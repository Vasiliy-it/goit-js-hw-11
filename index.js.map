{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function generateGalleryMarkup(images) {\n  return images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n            />\n          </a>\n          <div class=\"info\">\n            <div class=\"info__item\">\n              <p class=\"title\">Likes</p>\n              <p class=\"value\">${likes}</p>\n            </div>\n            <div class=\"info__item\">\n              <p class=\"title\">Views</p>\n              <p class=\"value\">${views}</p>\n            </div>\n            <div class=\"info__item\">\n              <p class=\"title\">Comments</p>\n              <p class=\"value\">${comments}</p>\n            </div>\n            <div class=\"info__item\">\n              <p class=\"title\">Downloads</p>\n              <p class=\"value\">${downloads}</p>\n            </div>\n          </div>\n        </li>\n      `\n    ).join(\"\");\n}\n\nexport function startLoader() {\n  const loaderContainer = document.querySelector('.loader__container');\n  loaderContainer.classList.add('active');\n}\n\nexport function stopLoader() {\n  const loaderContainer = document.querySelector('.loader__container');\n  loaderContainer.classList.remove('active');\n}","import { startLoader, stopLoader } from \"./render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst apiKey = '46887130-d3f8e3821f1ed34df6d7a3ffd';\nconst baseUrl = 'https://pixabay.com/api/';\n\nexport function searchImages(query, callback) {\n  const url = `${baseUrl}?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  startLoader();\n\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: 'Sorry, there are no images matching your search query. Please try again',\n          position: 'topRight'\n        });\n      } else {\n        const limitedImages = data.hits.slice(0, 9);\n        callback(limitedImages);\n      }\n    })\n\n    .catch(error => {\n      console.log(error);\n    })\n    \n    .finally(() => {\n      stopLoader();\n    });\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport { searchImages } from \"./js/pixabay-api\";\nimport { generateGalleryMarkup } from \"./js/render-functions\";\n\nconst form = document.querySelector('.search-form'); // Отримуємо форму\nconst searchInput = document.querySelector('input[type=search]');\nconst galleryList = document.querySelector('.gallery__list');\nlet lightbox;\n\nform.addEventListener(\"submit\", event => {\n  event.preventDefault();\n  \n  \n  \n  const query = searchInput.value.trim();\n\n  if (query === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Fill search input!',\n      position: 'topRight'\n    });\n    return;\n  }\n\n  \n  galleryList.innerHTML = '';\n  \n  searchImages(query, images => {\n    const markup = generateGalleryMarkup(images);\n    galleryList.innerHTML = markup;\n\n    \n    if (lightbox) {\n      lightbox.refresh();\n    } else {\n      lightbox = new SimpleLightbox('.gallery__list a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n    }\n\n    searchInput.value = '';\n  });\n});\n"],"names":["generateGalleryMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","startLoader","stopLoader","apiKey","baseUrl","searchImages","query","callback","url","response","data","iziToast","limitedImages","error","form","searchInput","galleryList","lightbox","event","markup","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAsBC,EAAQ,CAC5C,OAAOA,EACJ,IACC,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,0CAE1CL,CAAa;AAAA;AAAA;AAAA,qBAGlCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAMQC,CAAK;AAAA;AAAA;AAAA;AAAA,iCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,OAK1C,EAAM,KAAK,EAAE,CACb,CAEO,SAASC,GAAc,CACJ,SAAS,cAAc,oBAAoB,EACnD,UAAU,IAAI,QAAQ,CACxC,CAEO,SAASC,GAAa,CACH,SAAS,cAAc,oBAAoB,EACnD,UAAU,OAAO,QAAQ,CAC3C,CCtCA,MAAMC,EAAS,qCACTC,EAAU,2BAET,SAASC,EAAaC,EAAOC,EAAU,CAC5C,MAAMC,EAAM,GAAGJ,CAAO,QAAQD,CAAM,MAAM,mBAAmBG,CAAK,CAAC,2DAEnEL,IAEA,MAAMO,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EAEA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACT,SAAU,UACpB,CAAS,MACI,CACL,MAAMC,EAAgBF,EAAK,KAAK,MAAM,EAAG,CAAC,EAC1CH,EAASK,CAAa,CACvB,CACP,CAAK,EAEA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EAEA,QAAQ,IAAM,CACbX,GACN,CAAK,CACL,CCnCA,MAAMY,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAc,SAAS,cAAc,gBAAgB,EAC3D,IAAIC,EAEJH,EAAK,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EAIpB,MAAMZ,EAAQS,EAAY,MAAM,KAAI,EAEpC,GAAIT,IAAU,GAAI,CAChBK,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qBACT,SAAU,UAChB,CAAK,EACD,MACD,CAGDK,EAAY,UAAY,GAExBX,EAAaC,EAAOb,GAAU,CAC5B,MAAM0B,EAAS3B,EAAsBC,CAAM,EAC3CuB,EAAY,UAAYG,EAGpBF,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIG,EAAe,mBAAoB,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EAGHL,EAAY,MAAQ,EACxB,CAAG,CACH,CAAC"}